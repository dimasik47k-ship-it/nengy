# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –î–µ–ø–ª–æ–π –Ω–∞ Netlify

## –í–∞—Ä–∏–∞–Ω—Ç 1: In-Memory Storage (–°–ê–ú–´–ô –ü–†–û–°–¢–û–ô - 5 –º–∏–Ω—É—Ç, –¥–ª—è –¥–µ–º–æ)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –∏ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ. –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ MongoDB (–í–∞—Ä–∏–∞–Ω—Ç 2).

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–µ–π –ë–î
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π (3 –º–∏–Ω—É—Ç—ã)

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –î–∞–Ω–Ω—ã–µ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- ‚ùå –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ ~15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (2 –º–∏–Ω—É—Ç—ã)

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞:
git remote add origin https://github.com/–í–ê–®_USERNAME/shorto.git
git branch -M main
git push -u origin main
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ https://github.com/new –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.

### 2Ô∏è‚É£ –î–µ–ø–ª–æ–π –Ω–∞ Netlify (3 –º–∏–Ω—É—Ç—ã)

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ https://app.netlify.com
2. **Add new site** ‚Üí **Import an existing project**
3. –í—ã–±–µ—Ä–∏—Ç–µ **GitHub** ‚Üí –Ω–∞–π–¥–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `shorto`
4. Netlify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí **Deploy site**

### 3Ô∏è‚É£ –ì–æ—Ç–æ–≤–æ! üéâ

–í–∞—à —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `https://–≤–∞—à-—Å–∞–π—Ç.netlify.app`

**–ù–∏–∫–∞–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!**

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: MongoDB Atlas (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è production - 10 –º–∏–Ω—É—Ç)

–î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ MongoDB Atlas (5 –º–∏–Ω—É—Ç)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: https://www.mongodb.com/cloud/atlas/register
2. –°–æ–∑–¥–∞–π—Ç–µ **FREE** –∫–ª–∞—Å—Ç–µ—Ä (M0)
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î:
   - Username: `shorto_user`
   - Password: (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ!)
4. Network Access ‚Üí Add IP ‚Üí **Allow Access from Anywhere** (0.0.0.0/0)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - Clusters ‚Üí Connect ‚Üí Connect your application
   - –ó–∞–º–µ–Ω–∏—Ç–µ `<password>` –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å

### 2Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ MongoDB –≤–µ—Ä—Å–∏—é

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞:
mv netlify/functions/api.js netlify/functions/api-simple.js
mv netlify/functions/api-mongodb.js netlify/functions/api.js
mv netlify/functions/redirect.js netlify/functions/redirect-simple.js
mv netlify/functions/redirect-mongodb.js netlify/functions/redirect.js

git add .
git commit -m "Switch to MongoDB"
git push
```

### 3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (1 –º–∏–Ω—É—Ç–∞)

1. –í Netlify Dashboard –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞:
2. **Site settings** ‚Üí **Environment variables** ‚Üí **Add a variable**
3. –î–æ–±–∞–≤—å—Ç–µ –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

   ```
   MONGODB_URI = mongodb+srv://shorto_user:–í–ê–®_–ü–ê–†–û–õ–¨@cluster.xxxxx.mongodb.net/?retryWrites=true&w=majority
   MONGODB_DB = shorto
   ```

4. **Save**
5. **Deploys** ‚Üí **Trigger deploy** ‚Üí **Clear cache and deploy site**

### 4Ô∏è‚É£ –ì–æ—Ç–æ–≤–æ! üéâ

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | In-Memory | MongoDB Atlas |
|---------------|-----------|---------------|
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | 5 –º–∏–Ω—É—Ç |
| –í—Ä–µ–º—è –¥–µ–ø–ª–æ—è | 5 –º–∏–Ω—É—Ç | 10 –º–∏–Ω—É—Ç |
| –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç | –ù–µ—Ç –ª–∏–º–∏—Ç–∞ | 512 MB |
| –°–∫–æ—Ä–æ—Å—Ç—å | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è | –ë—ã—Å—Ç—Ä–∞—è |
| –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è | –î–µ–º–æ, —Ç–µ—Å—Ç—ã | Production |

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### In-Memory Storage

- –î–∞–Ω–Ω—ã–µ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ MongoDB –¥–ª—è production
- –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: Netlify Dashboard ‚Üí Functions ‚Üí Logs

### MongoDB Atlas

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ IP 0.0.0.0/0 –¥–æ–±–∞–≤–ª–µ–Ω –≤ Network Access
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è –≤ —Å—Ç—Ä–æ–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ Netlify

### 404 –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–∫–∞—Ö

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `netlify.toml` –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- Trigger deploy –∑–∞–Ω–æ–≤–æ

---

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å In-Memory (–í–∞—Ä–∏–∞–Ω—Ç 1) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è production –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ MongoDB (–í–∞—Ä–∏–∞–Ω—Ç 2).
